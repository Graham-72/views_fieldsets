<?php

/**
 * Implements hook_init().
 */
function views_fieldsets_init() {

}

/**
 * Implements hook_form_alter().
 */
function views_fieldsets_form_alter($form, $form_state, $form_id) {
	drupal_set_message($form_id);
}

/**
 * Implements hook_form_FORM_ID_alter() for views_ui_rearrange_form().
 */
function views_fieldsets_form_views_ui_rearrange_form_alter($form, $form_state, $form_id = 'views_ui_rearrange_form') {
	// Add javascript settings that will be added via $.extend for tabledragging
	$form['#js']['tableDrag']['arrange']['match'][0] = array(
		'target' => 'match',
		'source' => NULL,
		'relationship' => 'parent',
		'action' => 'order',
		'hidden' => FALSE,
		'limit' => 0,
	);
	print_r($form);
}

/**
 * Implements hook_form_FORM_ID_alter() for views_ui_edit_form().
 */
function views_fieldsets_form_views_ui_edit_form_alter($form, $form_state, $form_id = 'views_ui_edit_form') {
	drupal_add_js(drupal_get_path('module', 'views_fieldsets') . '/views_fieldsets.js');

//	$form['#attached']['js'][] = drupal_get_path('module', 'views_fieldsets') . '/views_fieldsets.js';
//	print_r($form['#attached']);
}

/**
 * Implements hook_views_api().
 */
function views_fieldsets_views_api() {
	return array(
		'version' => 3,
	);
}
